CREATE TABLE users (
    id CHAR(36) NOT NULL,
    username VARCHAR(255) NOT NULL,
    email VARCHAR(255) NOT NULL,
    password VARCHAR(255) NOT NULL,
    PRIMARY KEY (id)
);

CREATE TABLE tweets (
    id CHAR(36) NOT NULL,
    content TEXT NOT NULL,
    posted_by CHAR(36) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    like_count INT DEFAULT 0,
    PRIMARY KEY (id),
    FOREIGN KEY (posted_by) REFERENCES users(id)
);

CREATE TABLE replies (
    id CHAR(36) NOT NULL,
    parent_id CHAR(36) NOT NULL,
    content TEXT NOT NULL,
    posted_by CHAR(36) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    like_count INT DEFAULT 0,
    PRIMARY KEY (id),
    FOREIGN KEY (parent_id) REFERENCES tweets(id),
    FOREIGN KEY (posted_by) REFERENCES users(id)
);

CREATE TABLE likes (
    id CHAR(36) NOT NULL,
    post_id CHAR(36) NOT NULL,
    liked_by CHAR(36) NOT NULL,
    post_type ENUM('tweet', 'reply') NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (id),
    FOREIGN KEY (liked_by) REFERENCES users(id)
);

INSERT INTO users (id, username, email, password) VALUES
    ('00000000000000000000000001', 'alice', 'alice@example.com', 'password1'),
    ('00000000000000000000000002', 'bob', 'bob@example.com', 'password2'),
    ('00000000000000000000000003', 'charlie', 'charlie@example.com', 'password3');

-- Insert into tweet table
INSERT INTO tweets (id, posted_by, created_at, content) VALUES
    ('10000000000000000000000001', '00000000000000000000000001', '2024-02-25T06:00:10', '雪の降りたるはいふべきにもあらず、霜のいと白きも、また さらでもいと寒きに、火など急ぎおこして、炭もて渡るもいとつきづきし'),
    ('10000000000000000000000002', '00000000000000000000000001', '2024-02-25T01:00:16', '夏は夜'),
    ('10000000000000000000000003', '00000000000000000000000002', '2024-02-25T03:00:48', '雨など降るもをかし'),
    ('10000000000000000000000004', '00000000000000000000000001', '2024-02-25T05:30:59', '冬はつとめて'),
    ('10000000000000000000000005', '00000000000000000000000001', '2024-02-25T02:00:16', 'やみもなほ、蛍の多く飛びちがひたる'),
    ('10000000000000000000000006', '00000000000000000000000002', '2024-02-25T02:30:28', 'また、 ただ一つ二つなど、ほのかにうち光りて行くもをかし'),
    ('10000000000000000000000007', '00000000000000000000000001', '2024-02-25T00:30:57', 'やうやう白くなりゆく山ぎは、すこしあかりて、紫だちたる 雲のほそくたなびきたる'),
    ('10000000000000000000000008', '00000000000000000000000002', '2024-02-25T05:00:33', '日入りはてて、風の音、虫の 音など、はたいふべきにあらず'),
    ('10000000000000000000000009', '00000000000000000000000002', '2024-02-25T03:30:28', '秋は夕暮れ'),
    ('10000000000000000000000010', '00000000000000000000000002', '2024-02-25T04:30:12', 'まいて雁などの つらねたるが、いと小さく見ゆるはいとをかし'),
    ('10000000000000000000000011', '00000000000000000000000002', '2024-02-25T01:30:24', '月のころはさらなり'),
    ('10000000000000000000000012', '00000000000000000000000002', '2024-02-25T06:30:31', '昼になりて、ぬるくゆるびもていけば、火桶の火も白き灰がちになりてわろし'),
    ('10000000000000000000000013', '00000000000000000000000002', '2024-02-25T00:00:21', '春はあけぼの'),
    ('10000000000000000000000014', '00000000000000000000000002', '2024-02-25T04:00:38', '夕日のさして山の端いと近うなりたるに、烏の寝どころへ行く とて、三つ四つ、二つ三つなど、飛びいそぐさへあはれなり');

INSERT INTO replies (id, parent_id, posted_by, created_at, content) VALUES
    ('20000000000000000000000001', '10000000000000000000000001', '00000000000000000000000002', '2024-02-25T06:00:11', 'すずしい'),
    ('20000000000000000000000002', '10000000000000000000000003', '00000000000000000000000001', '2024-02-25T03:00:49', '雨の日は家でゆっくりするのがいいですね');

INSERT INTO likes (id, post_id, liked_by, created_at) VALUES
    ('30000000000000000000000001', '10000000000000000000000001', '00000000000000000000000002', '2024-02-25 06:00:12'),
    ('30000000000000000000000002', '10000000000000000000000003', '00000000000000000000000001', '2024-02-25 03:00:50');